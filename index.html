<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>GuitarTab Player - Canvas Editor</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <main>
    <h1>GuitarTab Player — Editor con Canvas</h1>

    <div class="controls">
      <button id="playBtn">Reproducir</button>
      <button id="stopBtn">Stop</button>

      <label>Tempo: <input id="tempo" type="number" value="90" min="30" max="300"> BPM</label>
      <label>Velocidad: <input id="velocity" type="range" min="1" max="127" value="100"></label>

      <label>Pasos: <input id="stepsCount" type="number" value="32" min="8" max="256" step="1" style="width:80px"></label>

      <button id="clearBtn">Limpiar</button>
      <button id="exportBtn">Exportar JSON</button>
      <input id="fileInput" type="file" accept=".json" style="display:none">
      <button id="importBtn">Importar JSON</button>
    </div>

    <section class="canvas-section">
      <div class="canvas-wrap">
        <canvas id="tabCanvas" width="960" height="240"></canvas>
        <div id="canvasHint">Haz clic en una celda para añadir/editar el número de traste (0-99). Mantén pulsado para arrastrar.</div>
      </div>

      <aside class="side-visuals">
        <h3>Mástil (posiciones activas)</h3>
        <div id="fretboardSmall"></div>

        <h3>Teclado</h3>
        <div id="pianoSmall"></div>
      </aside>
    </section>

    <section class="tab-output">
      <h2>Salida (ASCII tab por pasos)</h2>
      <pre id="tabText"></pre>
      <h2>JSON de la canción</h2>
      <pre id="songJson"></pre>
    </section>

  </main>

  <script src="app.js"></script>
</body>
</html>